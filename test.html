<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

	<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAD4P4Qsjh2FqMAtx_RI2K_Yp5WS8KIh5Q&sensor=false"></script>

	<!-- Initialize Map and markers -->
	<style media="screen">
	@font-face {
    font-family: myFirstFont;
    src: url(digital-7.ttf);
}

	#googleMap{
	-ms-flex: 25%; /* IE10 */
	flex: 25%;
	width:1285px;
	height:300px;

	padding: 0 4px;
}

.column img {
	margin-top: 8px;
	vertical-align: middle;
}

/* Responsive layout - makes a two column-layout instead of four columns */
@media screen and (max-width: 800px) {
	#googleMap {
			-ms-flex: 50%;
			flex: 50%;
			max-width: 50%;
	}
}

/* Responsive layout - makes the two columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
	#googleMap {
			-ms-flex: 100%;
			flex: 100%;
			max-width: 100%;
	}
}
@media screen and (max-width: 1285px) {
	#googleMap {
			-ms-flex: 100%;
			flex: 100%;
			max-width: 100%;
	}
}

	</style>

<body style="background-color:#eef0db;">

  <div class="container-fluid">
    <div class="row">
      </div>

    </div>

  </div>

  <div class="container-fluid">
    <div class="row">
      	<div class="col-sm-offset-1 col-sm-4">
        	<div id="container" style="min-width: 310px; max-width: 400px; height: 300px; margin: 0 auto" ></div>
      	 	</div>
					<div class="col-sm-2">
						<div class="thumbnail">
						<div  id="temp" style="  font-family: myFirstFont; font-size:70px;background-color:#edeeec ; padding-left:40% " > 6</div>
					</div>
					<div class="thumbnail">
						<div  id="time" style="  font-family: myFirstFont; font-size:40px;background-color:#edeeec ; padding-left:25% " >100KM/S </div>
					</div>
					</div>

        	<div class="col-sm-4">
        <!--<div class="thumbnail" style="max-width: 400px; height: 300px;"-->
      	<div id="container2" style="min-width: 310px; max-width: 400px; height: 300px; margin: 0 auto">
				</div>
      </div>
    </div>
  </div>
<div class="row">
	<br>
</div>

	  <div class="container-fluid">
	    <div class="row">

	      	<div class="col-sm-offset-2 col-sm-4" >
						<div class="thumbnail" style="width: 200px; height: 160px;">
<div id="location"  style="width: 190px;font-family: myFirstFont; font-size:30px; height: 150px; background-color:#acbfbb ;">
</div>

							<!-- <div id="temp" style="padding-left:40%; padding-bottom:100px;  max-width: 150px; height: 100px" ></div> -->
						</div>
</div>

<div class="col-sm-offset-2 col-sm-4" >
	<div class="thumbnail" style="width: 200px; height: 160px;">
<div id="distance"  style="width: 190px;font-family: myFirstFont; font-size:30px; height: 150px; background-color:#acbfbb ;">
distance
</div>

		<!-- <div id="temp" style="padding-left:40%; padding-bottom:100px;  max-width: 150px; height: 100px" ></div> -->
	</div>
</div>

						</div>
	      </div>




</body>
<script>
var rpmchart, speedchart;
var speedchart= new Highcharts.chart('container', {

    chart: {
        //renderTo: 'container',
        type: 'gauge',
        plotBackgroundColor: null,
        plotBackgroundImage: null,
        plotBorderWidth: 0,
        plotShadow: false
    },

    title: {
        text: 'Speedometer'
    },

    pane: {
        startAngle: -150,
        endAngle: 150,
        background: [{
            backgroundColor: {
                linearGradient: { x1: 1, y1: 0, x2: 0, y2: 1 },
                stops: [
                    [0, '#FFF'],
                    [1, '#333']
                ]
            },
            borderWidth: 0,
          //  outerRadius: '109%'
              outerRadius: '120%'
        }, {
            backgroundColor: {
                linearGradient: { x1: 1, y1: 0, x2: 0, y2: 1 },
                stops: [
                    //[0, '#333'],
                    [0, '#0000'],
                    [1, '#FFF']
                ]
            },
            borderWidth: 1,
            outerRadius: '107%'
        }, {
            // default background
        }, {
          //  backgroundColor: '#DDD',
            backgroundColor: '#0000',
            borderWidth: 0,
            outerRadius: '105%',
            innerRadius: '103%'
        }]
    },

    // the value axis
    yAxis: {
        min: 0,
        max: 200,

        minorTickInterval: 'auto',
        minorTickWidth: 1,
        minorTickLength: 10,
        minorTickPosition: 'inside',
        //minorTickColor: '#666',
        minorTickColor: '#6969',

        tickPixelInterval: 30,
        tickWidth: 2,
        tickPosition: 'inside',
        tickLength: 10,
        tickColor: '#666',
        labels: {
            step: 2,
            rotation: 'auto'
        },
        title: {
            text: 'km/h'
        },
        plotBands: [{
            from: 0,
            to: 120,
            color: '#55BF3B' // green
        }, {
            from: 120,
            to: 160,
            color: '#DDDF0D' // yellow
        }, {
            from: 160,
            to: 200,
            color: '#DF5353' // red
        }]
    },

    series: [{
        name: 'Speed',
        data: [80],
        tooltip: {
            valueSuffix: ' km/h'
        }
    }]

},

function (chart) {
    setInterval(

      function () {
          //var point = chart.series[0].points[0];

         $.get("chart.php", function (data1) {

           
           //newVal=JSON.parse(newVal);
        //  var local=parseInt(newVal.speed)
            //x=parseInt(newVal.speed);

          //  chart.series[0].setData(data1);
           //chart1.series[0].setData(data1);


            //speed gauge
            var point = speedchart.series[0].data[0];
            newVal = data1.speed;
            point.update(newVal);

            //rpm gauge
            var point1 = rpmchart.series[0].data[0];
            newVal = data1.rps;
            point1.update(newVal);

						//update valuers
						var loc=data1.lat +" "+data1.long;
						document.getElementById("time").textContent = data1.time;
						document.getElementById("temp").textContent = data1.temp;
						document.getElementById("location").textContent = loc;
						document.getElementById("distance").textContent = data1.distance;

            //line graph

           // var series = chart1.series[0];
           // shift = series.data.length > 20; // shift if the series is
           // array=[data1.speed,data1.rpm]                                          // longer than 20
           // chart1.series[0].addPoint(array, true, shift);



      // chart.series[0].addPoint(newVal, true, shift)
      //  chart1.series[0].addPoint(newval, true, shift);
          //  chart1.series[0].setData(newVal);
            //  document.write(newVal[0])
        //   chart1.series[0].addPoint(newval, true, shift);
            // point.update(parseFloat(newVal));
        });
    }, 1000);
  });
//});


//
// var chart;
//
// function requestData() {
//     $.ajax({
//         url: 'chart.php',
//         success: function(point) {
//             var series = chart.series[0],
//                 shift = series.data.length > 20; // shift if the series is
//                                                  // longer than 20
//
//             // add the point
//             chart.series[0].addPoint(point, true, shift);
//
//             // call it again after one second
//             setTimeout(requestData, 1000);
//         },
//         cache: false
//     });
// }

rpmchart=new Highcharts.chart('container2', {

    chart: {
        //renderTo: 'container',
        type: 'gauge',
        plotBackgroundColor: null,
        plotBackgroundImage: null,
        plotBorderWidth: 0,
        plotShadow: false
    },

    title: {
        text: 'Rpm'
    },

    pane: {
        startAngle: -150,
        endAngle: 150,
        background: [{
            backgroundColor: {
                linearGradient: { x1: 1, y1: 0, x2: 0, y2: 1 },
                stops: [
                    [0, '#FFF'],
                    [1, '#333']
                ]
            },
            borderWidth: 0,
          //  outerRadius: '109%'
              outerRadius: '120%'
        }, {
            backgroundColor: {
                linearGradient: { x1: 1, y1: 0, x2: 0, y2: 1 },
                stops: [
                    //[0, '#333'],
                    [0, '#0000'],
                    [1, '#FFF']
                ]
            },
            borderWidth: 1,
            outerRadius: '107%'
        }, {
            // default background
        }, {
          //  backgroundColor: '#DDD',
            backgroundColor: '#0000',
            borderWidth: 0,
            outerRadius: '105%',
            innerRadius: '103%'
        }]
    },

    // the value axis
    yAxis: {
        min: 0,
        max: 10,

        minorTickInterval: 'auto',
        minorTickWidth: 1,
        minorTickLength: 1,
        minorTickPosition: 'inside',
        //minorTickColor: '#666',
        minorTickColor: '#6969',

        tickPixelInterval: 30,
        tickWidth: 2,
        tickPosition: 'inside',
        tickLength: 1,
        tickColor: '#666',
        labels: {
            step: 2,
            rotation: 'auto'
        },
        title: {
            text: 'Rpm X 1000'
        },
        plotBands: [{
            from: 0,
            to: 3,
            color: '#55BF3B' // green
        }, {
            from: 3,
            to: 6,
            color: '#DDDF0D' // yellow
        }, {
            from: 6,
            to: 9,
            color: '#DF5353' // red
        }]
    },

    series: [{
        name: 'Rpm',
        data: [3],
        tooltip: {
            valueSuffix: ' X 1000 Rpm'
        }
    }]

}

);

</script>
<!-- <script type="text/javascript">


setInterval(function () {
        $.get("pls.php", function (data1) {

	var myObj = JSON.parse(data1);
        document.getElementById("temp").innerHTML = myObj;
    })
},1000)

</script>-->


</head>


</html>
